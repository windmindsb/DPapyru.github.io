<!DOCTYPE html>
<!-- æ–‡ä»¶å¤¹å†…å®¹æ˜¾ç¤ºé¡µé¢ -->
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡ä»¶å¤¹å†…å®¹ - é”™æ•°èºçº¿ LogSpiral</title>
    
    <!-- SEOä¼˜åŒ–æ ‡ç­¾ -->
    <meta name="description" content="é”™æ•°èºçº¿ LogSpiral æ–‡æ¡£æ–‡ä»¶å¤¹å†…å®¹ï¼Œæä¾›ç‰¹å®šæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡æ¡£åˆ—è¡¨ï¼Œæ”¯æŒåˆ†ç±»æµè§ˆå’Œæœç´¢åŠŸèƒ½ã€‚">
    <meta name="keywords" content="æ³°æ‹‰ç‘äºš,Mod,æ•™ç¨‹,æ–‡æ¡£,æ–‡ä»¶å¤¹,tModLoader,C#,æ¸¸æˆå¼€å‘,é”™æ•°èºçº¿,LogSpiral">
    <meta name="author" content="é”™æ•°èºçº¿ LogSpiralç¤¾åŒº">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graphæ ‡ç­¾ -->
    <meta property="og:title" content="æ–‡ä»¶å¤¹å†…å®¹ - é”™æ•°èºçº¿ LogSpiral">
    <meta property="og:description" content="é”™æ•°èºçº¿ LogSpiral æ–‡æ¡£æ–‡ä»¶å¤¹å†…å®¹ï¼Œæä¾›ç‰¹å®šæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡æ¡£åˆ—è¡¨ï¼Œæ”¯æŒåˆ†ç±»æµè§ˆå’Œæœç´¢åŠŸèƒ½ã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dpapyru.github.io/LogSpiral/folder.html">
    <meta property="og:image" content="https://dpapyru.github.io/LogSpiral/assets/imgs/icon.jpg">
    <meta property="og:site_name" content="é”™æ•°èºçº¿ LogSpiral - æ³°æ‹‰ç‘äºšModåˆ¶ä½œæ•™ç¨‹">
    <meta property="og:locale" content="zh_CN">
    
    <!-- Twitter Cardæ ‡ç­¾ -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="æ–‡ä»¶å¤¹å†…å®¹ - é”™æ•°èºçº¿ LogSpiral">
    <meta name="twitter:description" content="é”™æ•°èºçº¿ LogSpiral æ–‡æ¡£æ–‡ä»¶å¤¹å†…å®¹ï¼Œæä¾›ç‰¹å®šæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡æ¡£åˆ—è¡¨ï¼Œæ”¯æŒåˆ†ç±»æµè§ˆå’Œæœç´¢åŠŸèƒ½ã€‚">
    <meta name="twitter:image" content="https://dpapyru.github.io/LogSpiral/assets/imgs/icon.jpg">
    
    <!-- è§„èŒƒURL -->
    <link rel="canonical" href="https://dpapyru.github.io/LogSpiral/folder.html">
    
    <!-- æ ·å¼å’Œå›¾æ ‡ -->
    <link rel="stylesheet" href="assets/css/variables.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/prism.min.css">
    <link rel="stylesheet" href="assets/css/vs2022-theme.css">
    <link rel="icon" type="image/png" href="assets/imgs/icon.jpg">
    
    <!-- è®¾ç½®ä¸ºæµ…è‰²ä¸»é¢˜ï¼Œä¸æä¾›åˆ‡æ¢é€‰é¡¹ -->
    <script>
        document.documentElement.setAttribute('data-theme', 'light');
    </script>
    
    <!-- è‡ªå®šä¹‰æ ·å¼ -->
    <style>
        /* æ–‡ä»¶å¤¹é¡µé¢ç‰¹å®šæ ·å¼ */
        .folder-hero {
            background: linear-gradient(0deg, #0056b3, #007bff, #0056b3);
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        
        .folder-hero h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .folder-hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }
        
        .breadcrumb {
            background-color: #1e1e1e;
            padding: 15px 0;
            border-bottom: 1px solid #333;
        }
        
        .breadcrumb-nav {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            font-size: 0.9rem;
        }
        
        .breadcrumb-item {
            display: flex;
            align-items: center;
        }
        
        .breadcrumb-item:not(:last-child)::after {
            content: "â€º";
            margin: 0 10px;
            color: #6c757d;
        }
        
        .breadcrumb-item a {
            color: #007bff;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .breadcrumb-item a:hover {
            color: #0056b3;
            text-decoration: underline;
        }
        
        .breadcrumb-item.active {
            color: #ccc;
            font-weight: 500;
        }
        
        .folder-content {
            padding: 40px 0;
            background-color: #121212;
        }
        
        .folder-header {
            margin-bottom: 30px;
            text-align: center;
        }
        
        .folder-title {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #fff;
        }
        
        .folder-description {
            font-size: 1.1rem;
            color: #ccc;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .search-section {
            background-color: #1e1e1e;
            padding: 30px 0;
            border-radius: 8px;
            margin-bottom: 40px;
        }
        
        .search-container {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 1px solid #333;
            border-radius: 50px;
            font-size: 1rem;
            outline: none;
            background-color: #2a2a2a;
            color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15);
        }
        
        .search-button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .search-button:hover {
            background-color: #0056b3;
        }
        
        .doc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .doc-card {
            background-color: #1e1e1e;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .doc-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        .doc-card-header {
            padding: 20px;
            border-bottom: 1px solid #333;
        }
        
        .doc-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #fff;
        }
        
        .doc-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            font-size: 0.85rem;
            color: #ccc;
        }
        
        .doc-meta-item {
            display: flex;
            align-items: center;
        }
        
        .difficulty-badge {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .difficulty-badge.beginner {
            background-color: #1e3a1e;
            color: #4caf50;
        }
        
        .difficulty-badge.intermediate {
            background-color: #3a2e1e;
            color: #ff9800;
        }
        
        .difficulty-badge.advanced {
            background-color: #3a1e1e;
            color: #f44336;
        }
        
        .doc-card-body {
            padding: 20px;
        }
        
        .doc-description {
            font-size: 0.95rem;
            color: #ccc;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .doc-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 15px;
        }
        
        .doc-tag {
            background-color: #2a2a2a;
            color: #ccc;
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 4px;
            border: 1px solid #333;
        }
        
        .doc-card-footer {
            padding: 15px 20px;
            background-color: #1a1a1a;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .doc-author {
            font-size: 0.9rem;
            color: #ccc;
        }
        
        .doc-link {
            display: inline-block;
            background-color: #007bff;
            color: white;
            padding: 8px 15px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: background-color 0.2s ease;
        }
        
        .doc-link:hover {
            background-color: #0056b3;
        }
        
        .no-docs {
            text-align: center;
            padding: 60px 20px;
            color: #ccc;
        }
        
        .no-docs-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .no-docs h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #fff;
        }
        
        .no-docs p {
            font-size: 1rem;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .back-to-docs {
            text-align: center;
            margin-top: 40px;
        }
        
        .back-to-docs .btn {
            display: inline-block;
            background-color: #6c757d;
            color: white;
            padding: 12px 25px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 1rem;
            transition: background-color 0.2s ease;
        }
        
        .back-to-docs .btn:hover {
            background-color: #5a6268;
        }
        
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: #1e1e1e;
            border: 1px solid #333;
            border-top: none;
            border-radius: 0 0 12px 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }
        
        .search-result-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            color: #ccc;
        }
        
        .search-result-item:hover {
            background-color: #2a2a2a;
        }
        
        .search-result-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: #fff;
        }
        
        .search-result-meta {
            font-size: 0.85rem;
            color: #ccc;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .folder-hero h1 {
                font-size: 2rem;
            }
            
            .folder-hero p {
                font-size: 1rem;
            }
            
            .doc-grid {
                grid-template-columns: 1fr;
            }
            
            .folder-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>

<body>
    <!-- ç½‘ç«™å¤´éƒ¨å¯¼èˆªåŒºåŸŸ -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <!-- ç½‘ç«™logoå’Œæ ‡é¢˜ -->
                <div class="logo">
                    <a href="index.html">
                        <img src="assets/imgs/icon.jpg" alt="é”™æ•°èºçº¿ LogSpiral - æ³°æ‹‰ç‘äºšModåˆ¶ä½œæ•™ç¨‹" class="logo-image">
                        <h1 class="site-title">é”™æ•°èºçº¿ LogSpiral</h1>
                    </a>
                </div>
                <!-- ä¸»å¯¼èˆªèœå• -->
                <nav class="main-nav">
                    <ul class="nav-list">
                        <li class="nav-item"><a href="index.html" class="nav-link">é¦–é¡µ</a></li>
                        <li class="nav-item"><a href="docs/index.html" class="nav-link">æ–‡æ¡£</a></li>
                        <li class="nav-item"><a href="docs/viewer.html" class="nav-link">æ–‡æ¡£æŸ¥çœ‹å™¨</a></li>
                        <li class="nav-item"><a href="https://github.com/DPapyru/DPapyru.github.io" class="nav-link"
                                target="_blank">GitHub</a></li>
                    </ul>
                </nav>
                <!-- ç§»åŠ¨ç«¯èœå•åˆ‡æ¢æŒ‰é’® -->
                <button class="mobile-menu-toggle" aria-label="åˆ‡æ¢èœå•">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </button>
            </div>
        </div>
    </header>

    <!-- æ–‡ä»¶å¤¹é¡µé¢ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main>
        <!-- é¢åŒ…å±‘å¯¼èˆª -->
        <section class="breadcrumb">
            <div class="container">
                <nav class="breadcrumb-nav" id="breadcrumb">
                    <!-- é¢åŒ…å±‘å¯¼èˆªå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </nav>
            </div>
        </section>

        <!-- æ–‡ä»¶å¤¹è‹±é›„åŒºåŸŸ -->
        <section class="folder-hero">
            <div class="container">
                <h1>æ–‡ä»¶å¤¹å†…å®¹</h1>
                <p>æµè§ˆç‰¹å®šæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡æ¡£ï¼Œå¿«é€Ÿæ‰¾åˆ°æ‚¨éœ€è¦çš„å­¦ä¹ èµ„æº</p>
            </div>
        </section>

        <!-- æ–‡ä»¶å¤¹å†…å®¹åŒºåŸŸ -->
        <section class="folder-content">
            <div class="container">
                <!-- æ–‡ä»¶å¤¹æ ‡é¢˜å’Œæè¿° -->
                <div class="folder-header" id="folder-header">
                    <!-- æ–‡ä»¶å¤¹æ ‡é¢˜å’Œæè¿°å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>

                <!-- æœç´¢åŒºåŸŸ -->
                <div class="search-section">
                    <div class="search-container">
                        <input type="text" id="doc-search" class="search-input" placeholder="æœç´¢æ­¤æ–‡ä»¶å¤¹ä¸‹çš„æ–‡æ¡£...">
                        <button class="search-button" id="search-btn">ğŸ”</button>
                        <div class="search-results" id="search-results"></div>
                    </div>
                </div>

                <!-- æ–‡æ¡£åˆ—è¡¨ -->
                <div class="doc-grid" id="doc-grid">
                    <!-- æ–‡æ¡£å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>

                <!-- æ— æ–‡æ¡£æç¤º -->
                <div class="no-docs" id="no-docs" style="display: none;">
                    <div class="no-docs-icon">ğŸ“‚</div>
                    <h3>è¯¥æ–‡ä»¶å¤¹ä¸‹æš‚æ— æ–‡æ¡£</h3>
                    <p>å½“å‰æ–‡ä»¶å¤¹ä¸‹æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æ–‡æ¡£ï¼Œæˆ–è€…è¯¥æ–‡ä»¶å¤¹ä¸å­˜åœ¨ã€‚</p>
                </div>

                <!-- è¿”å›æ–‡æ¡£é¦–é¡µé“¾æ¥ -->
                <div class="back-to-docs">
                    <a href="docs/index.html" class="btn">è¿”å›æ–‡æ¡£é¦–é¡µ</a>
                </div>
            </div>
        </section>
    </main>

    <!-- ç½‘ç«™åº•éƒ¨åŒºåŸŸ -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>å…³äºé¡¹ç›®</h4>
                    <p>é”™æ•°èºçº¿ LogSpiralæ˜¯é¢å‘æ³°æ‹‰ç‘äºšModå¼€å‘è€…çš„åä½œæ•™ç¨‹é¡¹ç›®ï¼Œæ—¨åœ¨é™ä½Modåˆ¶ä½œé—¨æ§›ã€‚</p>
                </div>
                <div class="footer-section">
                    <h4>å¿«é€Ÿé“¾æ¥</h4>
                    <ul>
                        <li><a href="index.html">é¦–é¡µ</a></li>
                        <li><a href="docs/index.html">æ–‡æ¡£</a></li>
                        <li><a href="docs/viewer.html">æ–‡æ¡£æŸ¥çœ‹å™¨</a></li>
                        <li><a href="https://github.com/DPapyru/DPapyru.github.io" target="_blank">GitHub</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>è”ç³»æˆ‘ä»¬</h4>
                    <ul>
                        <li><a href="https://github.com/DPapyru/DPapyru.github.io" target="_blank">GitHub</a></li>
                        <li>å°å¤©ä½¿å¤§åŠ›æ”¯æŒé”™æ•°èºçº¿çº¿ï¼</li>
                        <li>QQ:3253615697</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 é”™æ•°èºçº¿ LogSpiral - æ³°æ‹‰ç‘äºšModåˆ¶ä½œæ•™ç¨‹. é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC
                        BY 4.0</a> è®¸å¯åè®®ã€‚</p>
            </div>
        </div>
    </footer>

    <!-- åŠ è½½JavaScriptæ–‡ä»¶ -->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/search.js"></script>
    <script src="assets/js/navigation.js"></script>
    
    <script>
        // æ–‡æ¡£é…ç½®å’Œå…ƒæ•°æ®ç®¡ç†
        let DOC_CONFIG = null;
        let ALL_DOCS = [];
        let FOLDER_DOCS = [];
        let CURRENT_FOLDER = '';
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('=== LogSpiral/folder.html: é¡µé¢åŠ è½½å®Œæˆ ===');
            
            // åˆå§‹åŒ–ç§»åŠ¨ç«¯èœå•
            initMobileMenu();
            
            // è·å–URLå‚æ•°ä¸­çš„æ–‡ä»¶å¤¹è·¯å¾„
            const folderPath = getFolderPathFromURL();
            CURRENT_FOLDER = folderPath;
            
            // åˆå§‹åŒ–æ–‡æ¡£é…ç½®
            initializeDocumentConfig().then(() => {
                // ç­›é€‰å½“å‰æ–‡ä»¶å¤¹çš„æ–‡æ¡£
                filterDocumentsByFolder(folderPath);
                
                // ç”Ÿæˆé¢åŒ…å±‘å¯¼èˆª
                generateBreadcrumb(folderPath);
                
                // ç”Ÿæˆæ–‡ä»¶å¤¹æ ‡é¢˜å’Œæè¿°
                generateFolderHeader(folderPath);
                
                // ç”Ÿæˆæ–‡æ¡£åˆ—è¡¨
                generateDocumentGrid();
                
                // åˆå§‹åŒ–æœç´¢åŠŸèƒ½
                initSearchFunctionality();
            });
        });

        // ä»URLå‚æ•°è·å–æ–‡ä»¶å¤¹è·¯å¾„
        function getFolderPathFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('path') || '';
        }

        // åˆå§‹åŒ–æ–‡æ¡£é…ç½®
        async function initializeDocumentConfig() {
            try {
                // å°è¯•åŠ è½½é…ç½®æ–‡ä»¶
                const configResponse = await fetch('./docs/config.json');
                if (configResponse.ok) {
                    DOC_CONFIG = await configResponse.json();
                    console.log('æˆåŠŸåŠ è½½é…ç½®æ–‡ä»¶:', DOC_CONFIG);
                } else {
                    console.warn('é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤é…ç½®');
                    DOC_CONFIG = generateDefaultConfig();
                }
            } catch (error) {
                console.warn('åŠ è½½é…ç½®æ–‡ä»¶å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤é…ç½®:', error);
                DOC_CONFIG = generateDefaultConfig();
            }
            
            // ä»é…ç½®æ–‡ä»¶åŠ è½½æ–‡æ¡£åˆ—è¡¨
            await loadDocumentsFromConfig();
        }

        // ç”Ÿæˆé»˜è®¤é…ç½®ï¼ˆå½“config.jsonä¸å­˜åœ¨æ—¶ï¼‰
        function generateDefaultConfig() {
            const config = {
                categories: {},
                topics: {},
                authors: {},
                all_files: []
            };
            return config;
        }

        // ä»é…ç½®æ–‡ä»¶åŠ è½½æ–‡æ¡£åˆ—è¡¨
        async function loadDocumentsFromConfig() {
            try {
                // é¦–å…ˆå°è¯•ä»é…ç½®æ–‡ä»¶åŠ è½½æ–‡æ¡£åˆ—è¡¨
                if (DOC_CONFIG && DOC_CONFIG.all_files && DOC_CONFIG.all_files.length > 0) {
                    console.log('ä»é…ç½®æ–‡ä»¶åŠ è½½æ–‡æ¡£åˆ—è¡¨');
                    ALL_DOCS = [...DOC_CONFIG.all_files];
                    
                    // ç¡®ä¿æ¯ä¸ªæ–‡æ¡£éƒ½æœ‰å¿…è¦çš„å­—æ®µ
                    ALL_DOCS = ALL_DOCS.map(doc => ({
                        filename: doc.filename,
                        title: doc.title || doc.filename.replace('.md', ''),
                        author: doc.author || 'æœªçŸ¥',
                        category: doc.category || 'å…¥é—¨',
                        topic: doc.topic || 'mod-basics',
                        order: parseInt(doc.order) || 999,
                        description: doc.description || '',
                        tags: doc.tags || [],
                        last_updated: doc.last_updated || 'æœªçŸ¥',
                        difficulty: doc.difficulty || 'beginner',
                        path: doc.path || doc.filename
                    }));
                    
                    console.log('ä»é…ç½®æ–‡ä»¶åŠ è½½çš„æ–‡æ¡£:', ALL_DOCS);
                    return;
                }
            } catch (error) {
                console.error('ä»é…ç½®æ–‡ä»¶åŠ è½½æ–‡æ¡£å¤±è´¥:', error);
                ALL_DOCS = [];
            }
        }

        // æ ¹æ®æ–‡ä»¶å¤¹è·¯å¾„ç­›é€‰æ–‡æ¡£
        function filterDocumentsByFolder(folderPath) {
            if (!folderPath) {
                console.warn('æœªæä¾›æ–‡ä»¶å¤¹è·¯å¾„');
                FOLDER_DOCS = [];
                return;
            }
            
            console.log(`ç­›é€‰æ–‡ä»¶å¤¹ "${folderPath}" ä¸‹çš„æ–‡æ¡£`);
            
            // ç­›é€‰è·¯å¾„åŒ…å«æŒ‡å®šæ–‡ä»¶å¤¹çš„æ–‡æ¡£
            FOLDER_DOCS = ALL_DOCS.filter(doc => {
                if (!doc.path) return false;
                
                // æ£€æŸ¥è·¯å¾„æ˜¯å¦åŒ…å«æŒ‡å®šçš„æ–‡ä»¶å¤¹è·¯å¾„
                const pathParts = doc.path.split('/');
                return pathParts.includes(folderPath);
            });
            
            console.log(`æ‰¾åˆ° ${FOLDER_DOCS.length} ä¸ªæ–‡æ¡£:`, FOLDER_DOCS);
        }

        // ç”Ÿæˆé¢åŒ…å±‘å¯¼èˆª
        function generateBreadcrumb(folderPath) {
            const breadcrumb = document.getElementById('breadcrumb');
            
            if (!breadcrumb) return;
            
            breadcrumb.innerHTML = '';
            
            // é¦–é¡µé“¾æ¥
            const homeItem = document.createElement('div');
            homeItem.className = 'breadcrumb-item';
            homeItem.innerHTML = '<a href="index.html">é¦–é¡µ</a>';
            breadcrumb.appendChild(homeItem);
            
            // æ–‡æ¡£é¦–é¡µé“¾æ¥
            const docsItem = document.createElement('div');
            docsItem.className = 'breadcrumb-item';
            docsItem.innerHTML = '<a href="docs/index.html">æ–‡æ¡£</a>';
            breadcrumb.appendChild(docsItem);
            
            // å½“å‰æ–‡ä»¶å¤¹
            if (folderPath) {
                const folderItem = document.createElement('div');
                folderItem.className = 'breadcrumb-item active';
                folderItem.textContent = folderPath;
                breadcrumb.appendChild(folderItem);
            }
        }

        // ç”Ÿæˆæ–‡ä»¶å¤¹æ ‡é¢˜å’Œæè¿°
        function generateFolderHeader(folderPath) {
            const folderHeader = document.getElementById('folder-header');
            
            if (!folderHeader) return;
            
            if (!folderPath) {
                folderHeader.innerHTML = `
                    <h2 class="folder-title">æœªæŒ‡å®šæ–‡ä»¶å¤¹</h2>
                    <p class="folder-description">è¯·åœ¨URLå‚æ•°ä¸­æŒ‡å®šè¦æŸ¥çœ‹çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œä¾‹å¦‚: folder.html?path=0-å¼€å§‹</p>
                `;
                return;
            }
            
            // å°è¯•ä»é…ç½®ä¸­è·å–æ–‡ä»¶å¤¹ä¿¡æ¯
            let folderDescription = '';
            
            // æ£€æŸ¥æ˜¯å¦æ˜¯åˆ†ç±»åç§°
            if (DOC_CONFIG.categories && DOC_CONFIG.categories[folderPath]) {
                folderDescription = DOC_CONFIG.categories[folderPath].description || '';
            }
            
            // ç”Ÿæˆæ–‡ä»¶å¤¹æ ‡é¢˜å’Œæè¿°
            folderHeader.innerHTML = `
                <h2 class="folder-title">${folderPath}</h2>
                <p class="folder-description">${folderDescription || `æµè§ˆ "${folderPath}" æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡æ¡£`}</p>
            `;
            
            // æ›´æ–°é¡µé¢SEOå…ƒæ ‡ç­¾
            updateFolderSEOMetadata(folderPath, folderDescription);
        }

        // æ›´æ–°æ–‡ä»¶å¤¹é¡µé¢çš„SEOå…ƒæ ‡ç­¾
        function updateFolderSEOMetadata(folderPath, folderDescription) {
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = `${folderPath} - æ–‡ä»¶å¤¹å†…å®¹ - é”™æ•°èºçº¿ LogSpiral - æ³°æ‹‰ç‘äºšModåˆ¶ä½œæ•™ç¨‹`;
            
            // æ›´æ–°description
            const description = folderDescription || `é”™æ•°èºçº¿ LogSpiral ${folderPath} æ–‡ä»¶å¤¹å†…å®¹ï¼Œæä¾›${folderPath}åˆ†ç±»ä¸‹çš„æ‰€æœ‰æ–‡æ¡£åˆ—è¡¨ï¼Œæ”¯æŒåˆ†ç±»æµè§ˆå’Œæœç´¢åŠŸèƒ½ã€‚`;
            let descriptionMeta = document.querySelector('meta[name="description"]');
            if (descriptionMeta) {
                descriptionMeta.setAttribute('content', description);
            }

            // æ›´æ–°keywords
            const keywords = `æ³°æ‹‰ç‘äºš,Mod,æ•™ç¨‹,${folderPath},æ–‡æ¡£,tModLoader,C#,æ¸¸æˆå¼€å‘,é”™æ•°èºçº¿,LogSpiral`;
            let keywordsMeta = document.querySelector('meta[name="keywords"]');
            if (keywordsMeta) {
                keywordsMeta.setAttribute('content', keywords);
            }

            // æ›´æ–°Open Graphæ ‡ç­¾
            let ogTitle = document.querySelector('meta[property="og:title"]');
            if (ogTitle) {
                ogTitle.setAttribute('content', `${folderPath} - æ–‡ä»¶å¤¹å†…å®¹ - é”™æ•°èºçº¿ LogSpiral`);
            }

            let ogDescription = document.querySelector('meta[property="og:description"]');
            if (ogDescription) {
                ogDescription.setAttribute('content', description);
            }

            let ogUrl = document.querySelector('meta[property="og:url"]');
            if (ogUrl) {
                ogUrl.setAttribute('content', `https://dpapyru.github.io/LogSpiral/folder.html?path=${encodeURIComponent(folderPath)}`);
            }

            // æ›´æ–°Twitter Cardæ ‡ç­¾
            let twitterTitle = document.querySelector('meta[name="twitter:title"]');
            if (twitterTitle) {
                twitterTitle.setAttribute('content', `${folderPath} - æ–‡ä»¶å¤¹å†…å®¹ - é”™æ•°èºçº¿ LogSpiral`);
            }

            let twitterDescription = document.querySelector('meta[name="twitter:description"]');
            if (twitterDescription) {
                twitterDescription.setAttribute('content', description);
            }

            // æ›´æ–°canonical URL
            let canonical = document.querySelector('link[rel="canonical"]');
            if (canonical) {
                canonical.setAttribute('href', `https://dpapyru.github.io/LogSpiral/folder.html?path=${encodeURIComponent(folderPath)}`);
            }
        }

        // ç”Ÿæˆæ–‡æ¡£åˆ—è¡¨
        function generateDocumentGrid() {
            const docGrid = document.getElementById('doc-grid');
            const noDocs = document.getElementById('no-docs');
            
            if (!docGrid || !noDocs) return;
            
            // æ¸…ç©ºç°æœ‰å†…å®¹
            docGrid.innerHTML = '';
            
            if (FOLDER_DOCS.length === 0) {
                // æ˜¾ç¤ºæ— æ–‡æ¡£æç¤º
                docGrid.style.display = 'none';
                noDocs.style.display = 'block';
                return;
            }
            
            // æ˜¾ç¤ºæ–‡æ¡£ç½‘æ ¼
            docGrid.style.display = 'grid';
            noDocs.style.display = 'none';
            
            // æŒ‰æ’åºå­—æ®µæ’åºæ–‡æ¡£
            const sortedDocs = [...FOLDER_DOCS].sort((a, b) => {
                return a.order - b.order;
            });
            
            // ç”Ÿæˆæ–‡æ¡£å¡ç‰‡
            sortedDocs.forEach(doc => {
                const docCard = document.createElement('div');
                docCard.className = 'doc-card';
                
                const difficultyClass = doc.difficulty === 'all' ? 'beginner' : doc.difficulty;
                const difficultyText = getDifficultyText(doc.difficulty);
                
                // ç”Ÿæˆæ ‡ç­¾HTML
                let tagsHtml = '';
                if (doc.tags && doc.tags.length > 0) {
                    tagsHtml = doc.tags.map(tag => `<span class="doc-tag">${tag}</span>`).join('');
                }
                
                docCard.innerHTML = `
                    <div class="doc-card-header">
                        <h3 class="doc-title">${doc.title}</h3>
                        <div class="doc-meta">
                            <div class="doc-meta-item">
                                <span class="difficulty-badge ${difficultyClass}">${difficultyText}</span>
                            </div>
                            <div class="doc-meta-item">
                                <span>ğŸ‘¤ ${doc.author}</span>
                            </div>
                            <div class="doc-meta-item">
                                <span>ğŸ“… ${doc.last_updated}</span>
                            </div>
                        </div>
                    </div>
                    <div class="doc-card-body">
                        <p class="doc-description">${doc.description || 'æš‚æ— æè¿°'}</p>
                        ${tagsHtml ? `<div class="doc-tags">${tagsHtml}</div>` : ''}
                    </div>
                    <div class="doc-card-footer">
                        <div class="doc-author">ä½œè€…: ${doc.author}</div>
                        <a href="docs/viewer.html?file=${doc.path}" class="doc-link">æŸ¥çœ‹æ–‡æ¡£</a>
                    </div>
                `;
                
                docGrid.appendChild(docCard);
            });
        }

        // è·å–éš¾åº¦æ–‡æœ¬
        function getDifficultyText(difficulty) {
            const difficultyMap = {
                'beginner': 'åˆçº§',
                'intermediate': 'ä¸­çº§',
                'advanced': 'é«˜çº§',
                'all': 'å…¨éƒ¨çº§åˆ«'
            };
            return difficultyMap[difficulty] || difficulty;
        }

        // åˆå§‹åŒ–æœç´¢åŠŸèƒ½
        function initSearchFunctionality() {
            const searchInput = document.getElementById('doc-search');
            const searchButton = document.getElementById('search-btn');
            const searchResults = document.getElementById('search-results');
            
            if (!searchInput || !searchButton || !searchResults) return;
            
            // æœç´¢è¾“å…¥äº‹ä»¶
            searchInput.addEventListener('input', function() {
                const query = this.value.trim().toLowerCase();
                
                if (query.length === 0) {
                    // æ˜¾ç¤ºæ‰€æœ‰æ–‡æ¡£
                    generateDocumentGrid();
                    searchResults.style.display = 'none';
                    return;
                }
                
                // è¿‡æ»¤æœç´¢ç»“æœ
                const results = FOLDER_DOCS.filter(doc =>
                    doc.title.toLowerCase().includes(query) ||
                    doc.author.toLowerCase().includes(query) ||
                    (doc.description && doc.description.toLowerCase().includes(query)) ||
                    (doc.tags && doc.tags.some(tag => tag.toLowerCase().includes(query)))
                );
                
                // æ˜¾ç¤ºæœç´¢ç»“æœ
                displaySearchResults(results);
                updateDocumentGrid(results);
            });
            
            // æœç´¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            searchButton.addEventListener('click', function() {
                const query = searchInput.value.trim();
                if (query) {
                    performSearch(query);
                }
            });
            
            // æœç´¢è¾“å…¥æ¡†å›è½¦äº‹ä»¶
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const query = this.value.trim();
                    if (query) {
                        performSearch(query);
                    }
                }
            });
            
            // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­æœç´¢ç»“æœ
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                    searchResults.style.display = 'none';
                }
            });
            
            // æ˜¾ç¤ºæœç´¢ç»“æœ
            function displaySearchResults(results) {
                searchResults.innerHTML = '';
                
                if (results.length === 0) {
                    searchResults.innerHTML = `
                        <div class="search-result-item">
                            <div class="search-result-title">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ–‡æ¡£</div>
                            <div class="search-result-meta">è¯·å°è¯•å…¶ä»–å…³é”®è¯</div>
                        </div>
                    `;
                } else {
                    results.forEach(result => {
                        const resultItem = document.createElement('div');
                        resultItem.className = 'search-result-item';
                        
                        resultItem.innerHTML = `
                            <div class="search-result-title">${result.title}</div>
                            <div class="search-result-meta">ä½œè€…: ${result.author} | æ›´æ–°: ${result.last_updated}</div>
                        `;
                        
                        resultItem.addEventListener('click', function() {
                            window.location.href = `docs/viewer.html?file=${result.path}`;
                        });
                        
                        searchResults.appendChild(resultItem);
                    });
                }
                
                searchResults.style.display = 'block';
            }
            
            // æ›´æ–°æ–‡æ¡£ç½‘æ ¼
            function updateDocumentGrid(results) {
                const docGrid = document.getElementById('doc-grid');
                const noDocs = document.getElementById('no-docs');
                
                if (!docGrid || !noDocs) return;
                
                // æ¸…ç©ºç°æœ‰å†…å®¹
                docGrid.innerHTML = '';
                
                if (results.length === 0) {
                    // æ˜¾ç¤ºæ— æ–‡æ¡£æç¤º
                    docGrid.style.display = 'none';
                    noDocs.style.display = 'block';
                    noDocs.innerHTML = `
                        <div class="no-docs-icon">ğŸ”</div>
                        <h3>æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ–‡æ¡£</h3>
                        <p>æ²¡æœ‰æ‰¾åˆ°ä¸æœç´¢æ¡ä»¶åŒ¹é…çš„æ–‡æ¡£ï¼Œè¯·å°è¯•å…¶ä»–å…³é”®è¯ã€‚</p>
                    `;
                    return;
                }
                
                // æ˜¾ç¤ºæ–‡æ¡£ç½‘æ ¼
                docGrid.style.display = 'grid';
                noDocs.style.display = 'none';
                
                // æŒ‰æ’åºå­—æ®µæ’åºæ–‡æ¡£
                const sortedResults = [...results].sort((a, b) => {
                    return a.order - b.order;
                });
                
                // ç”Ÿæˆæ–‡æ¡£å¡ç‰‡
                sortedResults.forEach(doc => {
                    const docCard = document.createElement('div');
                    docCard.className = 'doc-card';
                    
                    const difficultyClass = doc.difficulty === 'all' ? 'beginner' : doc.difficulty;
                    const difficultyText = getDifficultyText(doc.difficulty);
                    
                    // ç”Ÿæˆæ ‡ç­¾HTML
                    let tagsHtml = '';
                    if (doc.tags && doc.tags.length > 0) {
                        tagsHtml = doc.tags.map(tag => `<span class="doc-tag">${tag}</span>`).join('');
                    }
                    
                    docCard.innerHTML = `
                        <div class="doc-card-header">
                            <h3 class="doc-title">${doc.title}</h3>
                            <div class="doc-meta">
                                <div class="doc-meta-item">
                                    <span class="difficulty-badge ${difficultyClass}">${difficultyText}</span>
                                </div>
                                <div class="doc-meta-item">
                                    <span>ğŸ‘¤ ${doc.author}</span>
                                </div>
                                <div class="doc-meta-item">
                                    <span>ğŸ“… ${doc.last_updated}</span>
                                </div>
                            </div>
                        </div>
                        <div class="doc-card-body">
                            <p class="doc-description">${doc.description || 'æš‚æ— æè¿°'}</p>
                            ${tagsHtml ? `<div class="doc-tags">${tagsHtml}</div>` : ''}
                        </div>
                        <div class="doc-card-footer">
                            <div class="doc-author">ä½œè€…: ${doc.author}</div>
                            <a href="docs/viewer.html?file=${doc.path}" class="doc-link">æŸ¥çœ‹æ–‡æ¡£</a>
                        </div>
                    `;
                    
                    docGrid.appendChild(docCard);
                });
            }
            
            // æ‰§è¡Œæœç´¢
            function performSearch(query) {
                const results = FOLDER_DOCS.filter(doc =>
                    doc.title.toLowerCase().includes(query.toLowerCase()) ||
                    doc.author.toLowerCase().includes(query.toLowerCase()) ||
                    (doc.description && doc.description.toLowerCase().includes(query.toLowerCase())) ||
                    (doc.tags && doc.tags.some(tag => tag.toLowerCase().includes(query.toLowerCase())))
                );
                
                if (results.length === 0) {
                    alert('æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ–‡æ¡£ï¼Œè¯·å°è¯•å…¶ä»–å…³é”®è¯');
                } else if (results.length === 1) {
                    // å¦‚æœåªæœ‰ä¸€ä¸ªç»“æœï¼Œç›´æ¥è·³è½¬
                    window.location.href = `docs/viewer.html?file=${results[0].path}`;
                } else {
                    // å¦‚æœæœ‰å¤šä¸ªç»“æœï¼Œæ›´æ–°æ–‡æ¡£ç½‘æ ¼
                    updateDocumentGrid(results);
                    searchInput.value = query;
                }
            }
        }
    </script>
</body>

</html>